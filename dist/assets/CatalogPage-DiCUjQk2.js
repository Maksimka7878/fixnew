import{c as x,u as j,a as u,b,r as d,j as a,L as g,B as i}from"./index-q3d_ps4o.js";import{C as n,a as h}from"./card-cyR1_5S9.js";import{C as k}from"./chevron-right-Beqg_wgs.js";const M=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],L=x("funnel",M);const R=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],z=x("grid-3x3",R);const S=[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]],_=x("list",S);function E(){const{region:e}=j(),{categories:p,products:c,setCategories:r,setProducts:t,setProductRegionData:f,getRootCategories:P}=u(),{getCategories:N,getProducts:v}=b(),[A,m]=d.useState(!0),[o,C]=d.useState("grid");d.useEffect(()=>{y()},[e]);const y=async()=>{m(!0);const[s,l]=await Promise.all([N(e?.id),v({regionId:e?.id||"r1"})]);s.success&&s.data&&r(s.data),l.success&&l.data&&(t(l.data.products),f(l.data.regionData)),m(!1)},w=P();return a.jsxs("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:30:5",className:"container mx-auto px-4 py-6",children:[a.jsxs("nav",{"code-path":"src/pages/catalog/CatalogPage.tsx:31:7",className:"flex items-center gap-2 text-sm text-gray-500 mb-6",children:[a.jsx(g,{"code-path":"src/pages/catalog/CatalogPage.tsx:32:9",to:"/",className:"hover:text-green-600",children:"Ð“Ð»Ð°Ð²Ð½Ð°Ñ"}),a.jsx(k,{"code-path":"src/pages/catalog/CatalogPage.tsx:33:9",className:"w-4 h-4"}),a.jsx("span",{"code-path":"src/pages/catalog/CatalogPage.tsx:34:9",className:"text-gray-900",children:"ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³"})]}),a.jsx("h1",{"code-path":"src/pages/catalog/CatalogPage.tsx:36:7",className:"text-3xl font-bold mb-8",children:"ÐšÐ°Ñ‚Ð°Ð»Ð¾Ð³ Ñ‚Ð¾Ð²Ð°Ñ€Ð¾Ð²"}),a.jsxs("section",{"code-path":"src/pages/catalog/CatalogPage.tsx:38:7",className:"mb-8",children:[a.jsx("h2",{"code-path":"src/pages/catalog/CatalogPage.tsx:39:9",className:"text-lg font-medium mb-4",children:"ÐšÐ°Ñ‚ÐµÐ³Ð¾Ñ€Ð¸Ð¸"}),a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:40:9",className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:w.map(s=>a.jsx(g,{"code-path":"src/pages/catalog/CatalogPage.tsx:42:13",to:`/catalog/${s.slug}`,children:a.jsx(n,{"code-path":"src/pages/catalog/CatalogPage.tsx:43:15",className:"hover:shadow-lg transition-shadow cursor-pointer h-full",children:a.jsxs(h,{"code-path":"src/pages/catalog/CatalogPage.tsx:44:17",className:"p-4 flex flex-col items-center text-center",children:[a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:45:19",className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-3",children:a.jsx("span",{"code-path":"src/pages/catalog/CatalogPage.tsx:45:110",className:"text-2xl",children:"ðŸ“¦"})}),a.jsx("h3",{"code-path":"src/pages/catalog/CatalogPage.tsx:46:19",className:"font-medium text-sm",children:s.name})]})})},s.id))})]}),a.jsxs("section",{"code-path":"src/pages/catalog/CatalogPage.tsx:54:7",children:[a.jsxs("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:55:9",className:"flex items-center justify-between mb-6",children:[a.jsx("h2",{"code-path":"src/pages/catalog/CatalogPage.tsx:56:11",className:"text-lg font-medium",children:"Ð’ÑÐµ Ñ‚Ð¾Ð²Ð°Ñ€Ñ‹"}),a.jsxs("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:57:11",className:"flex items-center gap-2",children:[a.jsxs(i,{"code-path":"src/pages/catalog/CatalogPage.tsx:58:13",variant:"ghost",size:"sm",children:[a.jsx(L,{"code-path":"src/pages/catalog/CatalogPage.tsx:58:47",className:"w-4 h-4 mr-2"}),"Ð¤Ð¸Ð»ÑŒÑ‚Ñ€Ñ‹"]}),a.jsxs("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:59:13",className:"flex border rounded-lg overflow-hidden",children:[a.jsx(i,{"code-path":"src/pages/catalog/CatalogPage.tsx:60:15",variant:o==="grid"?"default":"ghost",size:"sm",onClick:()=>C("grid"),children:a.jsx(z,{"code-path":"src/pages/catalog/CatalogPage.tsx:60:121",className:"w-4 h-4"})}),a.jsx(i,{"code-path":"src/pages/catalog/CatalogPage.tsx:61:15",variant:o==="list"?"default":"ghost",size:"sm",onClick:()=>C("list"),children:a.jsx(_,{"code-path":"src/pages/catalog/CatalogPage.tsx:61:121",className:"w-4 h-4"})})]})]})]}),a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:65:9",className:`grid ${o==="grid"?"grid-cols-2 md:grid-cols-4 lg:grid-cols-6":"grid-cols-1"} gap-4`,children:c.map(s=>a.jsx($,{"code-path":"src/pages/catalog/CatalogPage.tsx:66:38",product:s,viewMode:o},s.id))})]})]})}function $({product:e,viewMode:p}){const{region:c}=j(),{getProductRegionData:r}=u(),t=c?r(e.id,c.id):null;return p==="list"?a.jsx(g,{"code-path":"src/pages/catalog/CatalogPage.tsx:80:7",to:`/product/${e.id}`,children:a.jsx(n,{"code-path":"src/pages/catalog/CatalogPage.tsx:81:9",className:"hover:shadow-lg transition-shadow",children:a.jsxs(h,{"code-path":"src/pages/catalog/CatalogPage.tsx:82:11",className:"p-4 flex gap-4",children:[a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:83:13",className:"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0",children:e.images[0]?a.jsx("img",{"code-path":"src/pages/catalog/CatalogPage.tsx:84:36",src:e.images[0].thumbnailUrl,alt:e.name,className:"w-full h-full object-cover"}):a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:84:141",className:"w-full h-full flex items-center justify-center text-gray-400",children:"ðŸ“¦"})}),a.jsxs("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:86:13",className:"flex-1",children:[a.jsx("p",{"code-path":"src/pages/catalog/CatalogPage.tsx:87:15",className:"text-xs text-gray-500",children:e.sku}),a.jsx("h3",{"code-path":"src/pages/catalog/CatalogPage.tsx:88:15",className:"font-medium mb-2",children:e.name}),t&&a.jsxs("span",{"code-path":"src/pages/catalog/CatalogPage.tsx:89:30",className:"font-bold text-green-600",children:[t.price.toLocaleString("ru-RU")," â‚½"]})]})]})})}):a.jsx(g,{"code-path":"src/pages/catalog/CatalogPage.tsx:98:5",to:`/product/${e.id}`,children:a.jsxs(n,{"code-path":"src/pages/catalog/CatalogPage.tsx:99:7",className:"hover:shadow-lg transition-shadow h-full",children:[a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:100:9",className:"aspect-square bg-gray-100 overflow-hidden",children:e.images[0]?a.jsx("img",{"code-path":"src/pages/catalog/CatalogPage.tsx:101:32",src:e.images[0].thumbnailUrl,alt:e.name,className:"w-full h-full object-cover hover:scale-105 transition-transform"}):a.jsx("div",{"code-path":"src/pages/catalog/CatalogPage.tsx:101:174",className:"w-full h-full flex items-center justify-center text-gray-400 text-4xl",children:"ðŸ“¦"})}),a.jsxs(h,{"code-path":"src/pages/catalog/CatalogPage.tsx:103:9",className:"p-3",children:[a.jsx("p",{"code-path":"src/pages/catalog/CatalogPage.tsx:104:11",className:"text-xs text-gray-500 mb-1",children:e.sku}),a.jsx("h3",{"code-path":"src/pages/catalog/CatalogPage.tsx:105:11",className:"text-sm font-medium line-clamp-2 mb-2",children:e.name}),t&&a.jsxs("span",{"code-path":"src/pages/catalog/CatalogPage.tsx:106:26",className:"font-bold text-green-600",children:[t.price.toLocaleString("ru-RU")," â‚½"]})]})]})})}export{E as CatalogPage};
