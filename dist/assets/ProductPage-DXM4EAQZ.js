import{c as P,e as v,f as b,a as w,g as k,b as S,r,j as a,L as d,M as C,P as q,B as l,S as M,H as B,t as L}from"./index-q3d_ps4o.js";import{B as _}from"./badge-D42VSav7.js";import{S as t}from"./skeleton-JT9gpigP.js";import{C as x}from"./chevron-right-Beqg_wgs.js";import{T as z}from"./truck-qclAGzpR.js";import{S as E}from"./shield-C1YhSwGL.js";const I=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],R=P("rotate-ccw",I);const T=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],$=P("share-2",T);function G(){const{slug:c}=v(),p=b(),{products:u,categories:m}=w(),{addItem:j}=k(),{getProductBySlug:h}=S(),[s,N]=r.useState(u.find(e=>e.slug===c)),[o,i]=r.useState(1),[y,n]=r.useState(!s),g=m.find(e=>e.id===s?.categoryId);r.useEffect(()=>{!s&&c&&(n(!0),h(c).then(e=>{e.success&&e.data?N(e.data):p("/catalog"),n(!1)}))},[c,s,h,p]);const f=()=>{s&&(j(s,o),L.success(`${s.name} добавлен в корзину`))};return y?a.jsx("div",{"code-path":"src/pages/catalog/ProductPage.tsx:48:7",className:"container mx-auto px-4 py-8",children:a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:49:9",className:"grid md:grid-cols-2 gap-8",children:[a.jsx(t,{"code-path":"src/pages/catalog/ProductPage.tsx:50:11",className:"aspect-square rounded-lg"}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:51:11",className:"space-y-4",children:[a.jsx(t,{"code-path":"src/pages/catalog/ProductPage.tsx:52:13",className:"h-8 w-3/4"}),a.jsx(t,{"code-path":"src/pages/catalog/ProductPage.tsx:53:13",className:"h-6 w-1/2"}),a.jsx(t,{"code-path":"src/pages/catalog/ProductPage.tsx:54:13",className:"h-12 w-1/3"}),a.jsx(t,{"code-path":"src/pages/catalog/ProductPage.tsx:55:13",className:"h-24 w-full"})]})]})}):s?a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:74:5",className:"container mx-auto px-4 py-8",children:[a.jsxs("nav",{"code-path":"src/pages/catalog/ProductPage.tsx:76:7",className:"flex items-center gap-2 text-sm text-gray-500 mb-6",children:[a.jsx(d,{"code-path":"src/pages/catalog/ProductPage.tsx:77:9",to:"/",className:"hover:text-red-600",children:"Главная"}),a.jsx(x,{"code-path":"src/pages/catalog/ProductPage.tsx:78:9",className:"w-4 h-4"}),a.jsx(d,{"code-path":"src/pages/catalog/ProductPage.tsx:79:9",to:"/catalog",className:"hover:text-red-600",children:"Каталог"}),g&&a.jsxs(a.Fragment,{children:[a.jsx(x,{"code-path":"src/pages/catalog/ProductPage.tsx:82:13",className:"w-4 h-4"}),a.jsx(d,{"code-path":"src/pages/catalog/ProductPage.tsx:83:13",to:`/catalog/${g.slug}`,className:"hover:text-red-600",children:g.name})]}),a.jsx(x,{"code-path":"src/pages/catalog/ProductPage.tsx:86:9",className:"w-4 h-4"}),a.jsx("span",{"code-path":"src/pages/catalog/ProductPage.tsx:87:9",className:"text-gray-900",children:s.name})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:90:7",className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:92:9",className:"relative aspect-square bg-gray-100 rounded-lg overflow-hidden",children:[s.images[0]?a.jsx("img",{"code-path":"src/pages/catalog/ProductPage.tsx:94:13",src:s.images[0].url,alt:s.name,className:"w-full h-full object-contain"}):a.jsx("div",{"code-path":"src/pages/catalog/ProductPage.tsx:100:13",className:"w-full h-full flex items-center justify-center text-gray-400",children:"Нет изображения"}),s.isNew&&a.jsx(_,{"code-path":"src/pages/catalog/ProductPage.tsx:105:13",className:"absolute top-4 left-4 bg-green-500",children:"Новинка"})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:110:9",className:"space-y-6",children:[a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:111:11",children:[a.jsx("h1",{"code-path":"src/pages/catalog/ProductPage.tsx:112:13",className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:s.name}),a.jsxs("p",{"code-path":"src/pages/catalog/ProductPage.tsx:113:13",className:"text-gray-500",children:["Артикул: ",s.sku]})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:117:11",className:"flex items-baseline gap-3",children:[a.jsxs("span",{"code-path":"src/pages/catalog/ProductPage.tsx:118:13",className:"text-3xl font-bold text-red-600",children:[s.basePrice," ₽"]}),s.baseOldPrice&&a.jsxs("span",{"code-path":"src/pages/catalog/ProductPage.tsx:120:15",className:"text-xl text-gray-400 line-through",children:[s.baseOldPrice," ₽"]})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:125:11",className:"flex items-center gap-4",children:[a.jsx("span",{"code-path":"src/pages/catalog/ProductPage.tsx:126:13",className:"text-gray-700",children:"Количество:"}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:127:13",className:"flex items-center border rounded-lg",children:[a.jsx("button",{"code-path":"src/pages/catalog/ProductPage.tsx:128:15",onClick:()=>i(Math.max(1,o-1)),className:"p-2 hover:bg-gray-100",children:a.jsx(C,{"code-path":"src/pages/catalog/ProductPage.tsx:132:17",className:"w-4 h-4"})}),a.jsx("span",{"code-path":"src/pages/catalog/ProductPage.tsx:134:15",className:"px-4 font-medium",children:o}),a.jsx("button",{"code-path":"src/pages/catalog/ProductPage.tsx:135:15",onClick:()=>i(o+1),className:"p-2 hover:bg-gray-100",children:a.jsx(q,{"code-path":"src/pages/catalog/ProductPage.tsx:139:17",className:"w-4 h-4"})})]})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:145:11",className:"flex gap-3",children:[a.jsxs(l,{"code-path":"src/pages/catalog/ProductPage.tsx:146:13",onClick:f,className:"flex-1 bg-red-600 hover:bg-red-700",size:"lg",children:[a.jsx(M,{"code-path":"src/pages/catalog/ProductPage.tsx:151:15",className:"w-5 h-5 mr-2"}),"В корзину"]}),a.jsx(l,{"code-path":"src/pages/catalog/ProductPage.tsx:154:13",variant:"outline",size:"lg",children:a.jsx(B,{"code-path":"src/pages/catalog/ProductPage.tsx:155:15",className:"w-5 h-5"})}),a.jsx(l,{"code-path":"src/pages/catalog/ProductPage.tsx:157:13",variant:"outline",size:"lg",children:a.jsx($,{"code-path":"src/pages/catalog/ProductPage.tsx:158:15",className:"w-5 h-5"})})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:163:11",className:"grid grid-cols-3 gap-4 pt-6 border-t",children:[a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:164:13",className:"text-center",children:[a.jsx(z,{"code-path":"src/pages/catalog/ProductPage.tsx:165:15",className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),a.jsx("p",{"code-path":"src/pages/catalog/ProductPage.tsx:166:15",className:"text-xs text-gray-600",children:"Быстрая доставка"})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:168:13",className:"text-center",children:[a.jsx(E,{"code-path":"src/pages/catalog/ProductPage.tsx:169:15",className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),a.jsx("p",{"code-path":"src/pages/catalog/ProductPage.tsx:170:15",className:"text-xs text-gray-600",children:"Гарантия качества"})]}),a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:172:13",className:"text-center",children:[a.jsx(R,{"code-path":"src/pages/catalog/ProductPage.tsx:173:15",className:"w-6 h-6 mx-auto mb-2 text-gray-600"}),a.jsx("p",{"code-path":"src/pages/catalog/ProductPage.tsx:174:15",className:"text-xs text-gray-600",children:"Легкий возврат"})]})]}),s.description&&a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:180:13",className:"pt-6 border-t",children:[a.jsx("h3",{"code-path":"src/pages/catalog/ProductPage.tsx:181:15",className:"font-semibold mb-2",children:"Описание"}),a.jsx("p",{"code-path":"src/pages/catalog/ProductPage.tsx:182:15",className:"text-gray-600",children:s.description})]})]})]})]}):a.jsx("div",{"code-path":"src/pages/catalog/ProductPage.tsx:64:7",className:"container mx-auto px-4 py-8",children:a.jsxs("div",{"code-path":"src/pages/catalog/ProductPage.tsx:65:9",className:"text-center py-16",children:[a.jsx("h1",{"code-path":"src/pages/catalog/ProductPage.tsx:66:11",className:"text-2xl font-bold text-gray-900 mb-4",children:"Товар не найден"}),a.jsx("p",{"code-path":"src/pages/catalog/ProductPage.tsx:67:11",className:"text-gray-600",children:"Запрашиваемый товар не существует"})]})})}export{G as ProductPage};
