import{i as S,a as P,b as j,r,j as a,k as g,I as y,X as N,B as b}from"./index-q3d_ps4o.js";import{P as f}from"./ProductCard-C5ODp83m.js";import"./card-cyR1_5S9.js";function k(){const[x,o]=S(),s=x.get("q")||"",{products:c,setProducts:l}=P(),{searchProducts:h}=j(),[t,p]=r.useState(s),[i,d]=r.useState(!1);r.useEffect(()=>{s&&(d(!0),h(s).then(e=>{e.success&&e.data&&l(e.data),d(!1)}))},[s,h,l]);const n=e=>{e.preventDefault(),t.trim()&&o({q:t.trim()})},m=()=>{p(""),o({})};return a.jsxs("div",{"code-path":"src/pages/catalog/SearchPage.tsx:44:5",className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{"code-path":"src/pages/catalog/SearchPage.tsx:45:7",className:"text-3xl font-bold text-gray-900 mb-6",children:"Поиск товаров"}),a.jsxs("form",{"code-path":"src/pages/catalog/SearchPage.tsx:48:7",onSubmit:n,className:"flex gap-2 mb-8",children:[a.jsxs("div",{"code-path":"src/pages/catalog/SearchPage.tsx:49:9",className:"relative flex-1",children:[a.jsx(g,{"code-path":"src/pages/catalog/SearchPage.tsx:50:11",className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx(y,{"code-path":"src/pages/catalog/SearchPage.tsx:51:11",type:"text",placeholder:"Введите название товара...",value:t,onChange:e=>p(e.target.value),className:"pl-10 pr-10"}),t&&a.jsx("button",{"code-path":"src/pages/catalog/SearchPage.tsx:59:13",type:"button",onClick:m,className:"absolute right-3 top-1/2 -translate-y-1/2",children:a.jsx(N,{"code-path":"src/pages/catalog/SearchPage.tsx:64:15",className:"w-5 h-5 text-gray-400 hover:text-gray-600"})})]}),a.jsx(b,{"code-path":"src/pages/catalog/SearchPage.tsx:68:9",type:"submit",className:"bg-red-600 hover:bg-red-700",children:"Найти"})]}),s&&a.jsxs("div",{"code-path":"src/pages/catalog/SearchPage.tsx:75:9",children:[a.jsxs("p",{"code-path":"src/pages/catalog/SearchPage.tsx:76:11",className:"text-gray-600 mb-4",children:['Результаты поиска по запросу "',s,'": ',c.length," товаров"]}),i?a.jsx("div",{"code-path":"src/pages/catalog/SearchPage.tsx:81:13",className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:Array.from({length:10}).map((e,u)=>a.jsx("div",{"code-path":"src/pages/catalog/SearchPage.tsx:83:17",className:"bg-gray-100 animate-pulse aspect-[3/4] rounded-lg"},u))}):c.length>0?a.jsx("div",{"code-path":"src/pages/catalog/SearchPage.tsx:87:13",className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-5 gap-4",children:c.map(e=>a.jsx(f,{"code-path":"src/pages/catalog/SearchPage.tsx:89:17",product:e},e.id))}):a.jsxs("div",{"code-path":"src/pages/catalog/SearchPage.tsx:93:13",className:"text-center py-16",children:[a.jsx(g,{"code-path":"src/pages/catalog/SearchPage.tsx:94:15",className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("h2",{"code-path":"src/pages/catalog/SearchPage.tsx:95:15",className:"text-xl font-semibold text-gray-900 mb-2",children:"Ничего не найдено"}),a.jsx("p",{"code-path":"src/pages/catalog/SearchPage.tsx:96:15",className:"text-gray-600",children:"Попробуйте изменить поисковый запрос"})]})]}),!s&&a.jsxs("div",{"code-path":"src/pages/catalog/SearchPage.tsx:103:9",className:"text-center py-16",children:[a.jsx(g,{"code-path":"src/pages/catalog/SearchPage.tsx:104:11",className:"w-16 h-16 mx-auto text-gray-300 mb-4"}),a.jsx("p",{"code-path":"src/pages/catalog/SearchPage.tsx:105:11",className:"text-gray-600",children:"Введите название товара для поиска"})]})]})}export{k as SearchPage};
